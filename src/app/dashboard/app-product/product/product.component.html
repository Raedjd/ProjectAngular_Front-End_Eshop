<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<br />
<div class="card dixed">
  <div class="dropdown">
    <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
     <i class="fas fa-grip-vertical"> </i>
   </button> 
   <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
     <ul *ngFor="let pro of listPromo " >
    <li><a class="dropdown-item"  data-target=".bd-example-modal-lg" (click)="newPrice(product,pro)">Add promotion : {{pro.name}}</a></li>  
     </ul>
     <ul>
       <li><a class="dropdown-item"  data-target=".bd-example-modal-lg" (click)="removePromo(product)" >Remove Promotion </a></li> 
        </ul>
   </div>
 </div>
  <img 
    src="../../../../assets/{{ this.product.photo }}"
    class="card-img-top"
    alt="..."
  />
  <div class="card-body">
    <h4 style="text-align: center" class="card-title">
      {{ this.product.libelle }}
    </h4>

    <p style="text-align: center" class="card-text">
        {{this.product.description}}
    </p>

    <h3  [ngClass]="product.promoValue != null ? 'withPromotion' : 'noPromotion'">
      <p>{{ this.product.prixUnitaire }}DT</p>
    </h3>
    <h3 *ngIf="product.promoValue!=null">
    {{ this.product.prixUnitaire*(1-this.product.promoValue/100) }}DT
    </h3>
    <br/>
    <button class="btn btn-warning button-update" (click)="updateNotif()" [routerLink]="['update',this.product.id]">Update</button>
    &nbsp;
    <button class="btn btn-danger button-delete " (click)="deleteNotif()"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
      <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
      <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
    </svg> Delete </button>



  </div>
</div>